<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retread Profitability Calculator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2 class="text-center">Retread Profitability Calculator</h2>
        <form method="POST" action="/calculate">
            <div class="form-group">
                <label for="number_of_tyres">Number of Tyres Retreaded:</label>
                <input type="number" class="form-control" id="number_of_tyres" name="number_of_tyres" required>
            </div>
            <div class="form-group">
                <label for="fixed_capital">Fixed Capital (Rs):</label>
                <input type="number" class="form-control" id="fixed_capital" name="fixed_capital" required>
            </div>
            <div class="form-group">
                <label for="patches_cost">Patches Cost per Unit (Rs):</label>
                <input type="number" class="form-control" id="patches_cost" name="patches_cost" required>
            </div>
            <div class="form-group">
                <label for="envelopes_cost">Envelopes Cost per Unit (Rs):</label>
                <input type="number" class="form-control" id="envelopes_cost" name="envelopes_cost" required>
            </div>
            <div class="form-group">
                <label for="other_consumables_cost">Other Consumables Cost per Tyre (Rs):</label>
                <input type="number" class="form-control" id="other_consumables_cost" name="other_consumables_cost" required>
            </div>
            <div class="form-group">
                <label for="operating_expenses">Total Operating Expenses (Rs):</label>
                <input type="number" class="form-control" id="operating_expenses" name="operating_expenses" required>
            </div>
            <div class="form-group">
                <label for="sales_realization">Total Sales Realization (Rs):</label>
                <input type="number" class="form-control" id="sales_realization" name="sales_realization" required>
            </div>
            <button type="submit" class="btn btn-primary">Calculate Profitability</button>
        </form>
        <br>
        {% if fixed_capital is not none %}
        <div>
            <h4>Fixed Capital: Rs {{ "{:,.2f}".format(fixed_capital) }}</h4>
            <h4>Raw Material Cost per Tyre: Rs {{ "{:,.2f}".format(raw_material_cost_per_tyre) }}</h4>
            <h4>Gross Margin: Rs {{ "{:,.2f}".format(gross_margin) }}</h4>
            <h4>Taxes at 12%: Rs {{ "{:,.2f}".format(taxes) }}</h4>
            <h4>Net Margin: Rs {{ "{:,.2f}".format(net_margin) }}</h4>
            <h4>Profit Percentage: {{ "{:.2f}".format(profit_percentage) }}%</h4>
            <h4>Return on Investment: {{ "{:.2f}".format(roi) }}%</h4>
        </div>
        {% elif error is not none %}
        <div class="alert alert-danger">{{ error }}</div>
        {% endif %}
    </div>
</body>
</html>

